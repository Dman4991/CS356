package iVoteSimulation;

import java.util.ArrayList;
import java.util.List;

public class IVoteService {
	private Question q;
	private List<Student> students;
	private List<Integer> selections;

	public IVoteService(Question q, ArrayList<Student> students){
		this.q = q;
		this.students = students;
		selections = new ArrayList<Integer>();
		for(int i=0; i<q.getPossibleAnswers().size(); i++){
			selections.add(i, 0);
		}
		countSelections();
	}
	
	public void countSelections(){
		for(Student student: students){
			ArrayList<Character> studentAnswers = student.getAnswers();
			System.out.print("countSelections: student: "+student.getID() + " answers: "+ studentAnswers.toString()+"\n");
			for(Character answer: studentAnswers){
				int timesSelected = selections.get(q.getPossibleAnswers().indexOf(answer));
				selections.set(q.getPossibleAnswers().indexOf(answer), timesSelected+1);
			}
		}
	}
	
	public void printResults(){
		System.out.println("selections: "+selections.toString());
		for(Character answer: q.getPossibleAnswers()){
			/*System.out.println("Answer: "+answer);
			System.out.println("q.getPossibleAnswer().indexOf(answer): "+ q.getPossibleAnswers().indexOf(answer));
			System.out.println("selection.get(0): "+selections.get(0));*/
			System.out.print(answer+": "+selections.get(q.getPossibleAnswers().indexOf(answer))+"\n");
		}
	}
}
